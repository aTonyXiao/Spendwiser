<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/components/cards/DisplayCard.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="nav">
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Account.html">Account</a></li></ul><h3>Modules</h3><ul><li><a href="module-AddCardDB.html">AddCardDB</a></li><li><a href="module-AddCardManual.html">AddCardManual</a></li><li><a href="module-AddCardModal.html">AddCardModal</a></li><li><a href="module-App.html">App</a></li><li><a href="module-BackButtonHeader.html">BackButtonHeader</a></li><li><a href="module-CameraSettingsBar.html">CameraSettingsBar</a></li><li><a href="module-Card.html">Card</a></li><li><a href="module-CardImage.html">CardImage</a></li><li><a href="module-CardSelect.html">CardSelect</a></li><li><a href="module-ChooseImage.html">ChooseImage</a></li><li><a href="module-DisplayCard.html">DisplayCard</a></li><li><a href="module-DoubleTap.html">DoubleTap</a></li><li><a href="module-EditImage.html">EditImage</a></li><li><a href="module-EditTransactionModal.html">EditTransactionModal</a></li><li><a href="module-Footer.html">Footer</a></li><li><a href="module-HelpModal.html">HelpModal</a></li><li><a href="module-LoadingScreen.html">LoadingScreen</a></li><li><a href="module-MainScreen.html">MainScreen</a><ul class='methods'><li data-type='method'><a href="module-MainScreen.html#~addManualInput">addManualInput</a></li><li data-type='method'><a href="module-MainScreen.html#~backAction">backAction</a></li><li data-type='method'><a href="module-MainScreen.html#~getDisabledCards">getDisabledCards</a></li><li data-type='method'><a href="module-MainScreen.html#~getLocationFromAPI">getLocationFromAPI</a></li><li data-type='method'><a href="module-MainScreen.html#~getRecCardFromDB">getRecCardFromDB</a></li><li data-type='method'><a href="module-MainScreen.html#~onBottomSheetLayout">onBottomSheetLayout</a></li><li data-type='method'><a href="module-MainScreen.html#~reloadRecCard">reloadRecCard</a></li><li data-type='method'><a href="module-MainScreen.html#~setLocationDisabledMode">setLocationDisabledMode</a></li><li data-type='method'><a href="module-MainScreen.html#~setOfflineMode">setOfflineMode</a></li><li data-type='method'><a href="module-MainScreen.html#~switchStoresFromPOI">switchStoresFromPOI</a></li><li data-type='method'><a href="module-MainScreen.html#~tryToGetStoresFromLocation">tryToGetStoresFromLocation</a></li></ul></li><li><a href="module-MoveableBlock.html">MoveableBlock</a></li><li><a href="module-SpendingSummary.html">SpendingSummary</a><ul class='methods'><li data-type='method'><a href="module-SpendingSummary.html#~changeCategoriesLimit">changeCategoriesLimit</a></li><li data-type='method'><a href="module-SpendingSummary.html#~changeCategory">changeCategory</a></li><li data-type='method'><a href="module-SpendingSummary.html#~getCardFromDB">getCardFromDB</a></li><li data-type='method'><a href="module-SpendingSummary.html#~getCompareTimeFrameTransactions">getCompareTimeFrameTransactions</a></li><li data-type='method'><a href="module-SpendingSummary.html#~processTransaction">processTransaction</a></li><li data-type='method'><a href="module-SpendingSummary.html#~setCurCardFromModal">setCurCardFromModal</a></li><li data-type='method'><a href="module-SpendingSummary.html#~setNewPeriod">setNewPeriod</a></li></ul></li><li><a href="module-Textbox.html">Textbox</a></li><li><a href="module-YourCards.html">YourCards</a></li></ul><h3>Classes</h3><ul><li><a href="AppleLogin.html">AppleLogin</a></li><li><a href="BaseBackend.html">BaseBackend</a><ul class='methods'><li data-type='method'><a href="BaseBackend.html#dbAdd">dbAdd</a></li><li data-type='method'><a href="BaseBackend.html#dbAddEncrypted">dbAddEncrypted</a></li><li data-type='method'><a href="BaseBackend.html#dbDelete">dbDelete</a></li><li data-type='method'><a href="BaseBackend.html#dbDoesDocExist">dbDoesDocExist</a></li><li data-type='method'><a href="BaseBackend.html#dbGet">dbGet</a></li><li data-type='method'><a href="BaseBackend.html#dbGetEncrypted">dbGetEncrypted</a></li><li data-type='method'><a href="BaseBackend.html#dbGetSubCollections">dbGetSubCollections</a></li><li data-type='method'><a href="BaseBackend.html#dbSet">dbSet</a></li><li data-type='method'><a href="BaseBackend.html#dbSetEncrypted">dbSetEncrypted</a></li><li data-type='method'><a href="BaseBackend.html#doesSupportDatabase">doesSupportDatabase</a></li><li data-type='method'><a href="BaseBackend.html#enableDatabaseCaching">enableDatabaseCaching</a></li><li data-type='method'><a href="BaseBackend.html#getLoginProviders">getLoginProviders</a></li><li data-type='method'><a href="BaseBackend.html#getTimestamp">getTimestamp</a></li><li data-type='method'><a href="BaseBackend.html#getUserID">getUserID</a></li><li data-type='method'><a href="BaseBackend.html#getUserInfo">getUserInfo</a></li><li data-type='method'><a href="BaseBackend.html#initializeApp">initializeApp</a></li><li data-type='method'><a href="BaseBackend.html#onAuthStateChange">onAuthStateChange</a></li><li data-type='method'><a href="BaseBackend.html#resetPassword">resetPassword</a></li><li data-type='method'><a href="BaseBackend.html#setPrivateKey">setPrivateKey</a></li><li data-type='method'><a href="BaseBackend.html#signIn">signIn</a></li><li data-type='method'><a href="BaseBackend.html#signInOffline">signInOffline</a></li><li data-type='method'><a href="BaseBackend.html#signOut">signOut</a></li><li data-type='method'><a href="BaseBackend.html#signUp">signUp</a></li><li data-type='method'><a href="BaseBackend.html#userAccountType">userAccountType</a></li><li data-type='method'><a href="BaseBackend.html#userLoggedIn">userLoggedIn</a></li></ul></li><li><a href="Cards.html">Cards</a><ul class='methods'><li data-type='method'><a href="Cards.html#addCardToDatabase">addCardToDatabase</a></li><li data-type='method'><a href="Cards.html#addJsonToDatabase">addJsonToDatabase</a></li><li data-type='method'><a href="Cards.html#getCardData">getCardData</a></li><li data-type='method'><a href="Cards.html#getCardImageURL">getCardImageURL</a></li><li data-type='method'><a href="Cards.html#getCardImg">getCardImg</a></li><li data-type='method'><a href="Cards.html#getCardName">getCardName</a></li><li data-type='method'><a href="Cards.html#getCardNames">getCardNames</a></li><li data-type='method'><a href="Cards.html#getCardReward">getCardReward</a></li></ul></li><li><a href="FacebookLogin.html">FacebookLogin</a></li><li><a href="FirebaseBackend.html">FirebaseBackend</a><ul class='methods'><li data-type='method'><a href="FirebaseBackend.html#dbAdd">dbAdd</a></li><li data-type='method'><a href="FirebaseBackend.html#dbDelete">dbDelete</a></li><li data-type='method'><a href="FirebaseBackend.html#dbDoesDocExist">dbDoesDocExist</a></li><li data-type='method'><a href="FirebaseBackend.html#dbGet">dbGet</a></li><li data-type='method'><a href="FirebaseBackend.html#dbGetSubCollections">dbGetSubCollections</a></li><li data-type='method'><a href="FirebaseBackend.html#dbGetSubCollectionsRemote">dbGetSubCollectionsRemote</a></li><li data-type='method'><a href="FirebaseBackend.html#dbSet">dbSet</a></li><li data-type='method'><a href="FirebaseBackend.html#doesSupportDatabase">doesSupportDatabase</a></li><li data-type='method'><a href="FirebaseBackend.html#enableDatabaseCaching">enableDatabaseCaching</a></li><li data-type='method'><a href="FirebaseBackend.html#getLoginProviders">getLoginProviders</a></li><li data-type='method'><a href="FirebaseBackend.html#getTimestamp">getTimestamp</a></li><li data-type='method'><a href="FirebaseBackend.html#getUserID">getUserID</a></li><li data-type='method'><a href="FirebaseBackend.html#getUserInfo">getUserInfo</a></li><li data-type='method'><a href="FirebaseBackend.html#initializeApp">initializeApp</a></li><li data-type='method'><a href="FirebaseBackend.html#onAuthStateChange">onAuthStateChange</a></li><li data-type='method'><a href="FirebaseBackend.html#remoteDBAdd">remoteDBAdd</a></li><li data-type='method'><a href="FirebaseBackend.html#remoteDBDelete">remoteDBDelete</a></li><li data-type='method'><a href="FirebaseBackend.html#remoteDBGet">remoteDBGet</a></li><li data-type='method'><a href="FirebaseBackend.html#remoteDBSet">remoteDBSet</a></li><li data-type='method'><a href="FirebaseBackend.html#resetPassword">resetPassword</a></li><li data-type='method'><a href="FirebaseBackend.html#signIn">signIn</a></li><li data-type='method'><a href="FirebaseBackend.html#signInOffline">signInOffline</a></li><li data-type='method'><a href="FirebaseBackend.html#signOut">signOut</a></li><li data-type='method'><a href="FirebaseBackend.html#signUp">signUp</a></li><li data-type='method'><a href="FirebaseBackend.html#userAccountType">userAccountType</a></li><li data-type='method'><a href="FirebaseBackend.html#userLoggedIn">userLoggedIn</a></li></ul></li><li><a href="GoogleLogin.html">GoogleLogin</a></li><li><a href="LoginAuthorizer.html">LoginAuthorizer</a><ul class='methods'><li data-type='method'><a href="LoginAuthorizer.html#login">login</a></li></ul></li><li><a href="RecommendCard.html">RecommendCard</a><ul class='methods'><li data-type='method'><a href="RecommendCard.html#getCategory">getCategory</a></li><li data-type='method'><a href="RecommendCard.html#getRecCards">getRecCards</a></li></ul></li><li><a href="ServerBackend.html">ServerBackend</a><ul class='methods'><li data-type='method'><a href="ServerBackend.html#dbAdd">dbAdd</a></li><li data-type='method'><a href="ServerBackend.html#dbDelete">dbDelete</a></li><li data-type='method'><a href="ServerBackend.html#dbDoesDocExist">dbDoesDocExist</a></li><li data-type='method'><a href="ServerBackend.html#dbGet">dbGet</a></li><li data-type='method'><a href="ServerBackend.html#dbGetSubCollections">dbGetSubCollections</a></li><li data-type='method'><a href="ServerBackend.html#dbGetSubCollectionsRemote">dbGetSubCollectionsRemote</a></li><li data-type='method'><a href="ServerBackend.html#dbSet">dbSet</a></li><li data-type='method'><a href="ServerBackend.html#doesSupportDatabase">doesSupportDatabase</a></li><li data-type='method'><a href="ServerBackend.html#enableDatabaseCaching">enableDatabaseCaching</a></li><li data-type='method'><a href="ServerBackend.html#getLoginProviders">getLoginProviders</a></li><li data-type='method'><a href="ServerBackend.html#getTimestamp">getTimestamp</a></li><li data-type='method'><a href="ServerBackend.html#getUserID">getUserID</a></li><li data-type='method'><a href="ServerBackend.html#getUserInfo">getUserInfo</a></li><li data-type='method'><a href="ServerBackend.html#getUserToken">getUserToken</a></li><li data-type='method'><a href="ServerBackend.html#initializeApp">initializeApp</a></li><li data-type='method'><a href="ServerBackend.html#onAuthStateChange">onAuthStateChange</a></li><li data-type='method'><a href="ServerBackend.html#remoteDBAdd">remoteDBAdd</a></li><li data-type='method'><a href="ServerBackend.html#remoteDBDelete">remoteDBDelete</a></li><li data-type='method'><a href="ServerBackend.html#remoteDBGet">remoteDBGet</a></li><li data-type='method'><a href="ServerBackend.html#remoteDBSet">remoteDBSet</a></li><li data-type='method'><a href="ServerBackend.html#resetPassword">resetPassword</a></li><li data-type='method'><a href="ServerBackend.html#signIn">signIn</a></li><li data-type='method'><a href="ServerBackend.html#signInOffline">signInOffline</a></li><li data-type='method'><a href="ServerBackend.html#signOut">signOut</a></li><li data-type='method'><a href="ServerBackend.html#signUp">signUp</a></li><li data-type='method'><a href="ServerBackend.html#userAccountType">userAccountType</a></li><li data-type='method'><a href="ServerBackend.html#userLoggedIn">userLoggedIn</a></li></ul></li><li><a href="SummaryHelper.html">SummaryHelper</a><ul class='methods'><li data-type='method'><a href="SummaryHelper.html#addSortedNewTransaction">addSortedNewTransaction</a></li><li data-type='method'><a href="SummaryHelper.html#getDbCards">getDbCards</a></li><li data-type='method'><a href="SummaryHelper.html#getTimeFrame">getTimeFrame</a></li><li data-type='method'><a href="SummaryHelper.html#matchTransactionToCategory">matchTransactionToCategory</a></li></ul></li><li><a href="userClass.html">userClass</a><ul class='methods'><li data-type='method'><a href="userClass.html#addTransactionId">addTransactionId</a></li><li data-type='method'><a href="userClass.html#addUser">addUser</a></li><li data-type='method'><a href="userClass.html#deleteCard">deleteCard</a></li><li data-type='method'><a href="userClass.html#deleteTransaction">deleteTransaction</a></li><li data-type='method'><a href="userClass.html#editTransaction">editTransaction</a></li><li data-type='method'><a href="userClass.html#getAllTransactions">getAllTransactions</a></li><li data-type='method'><a href="userClass.html#getCardDocId">getCardDocId</a></li><li data-type='method'><a href="userClass.html#getCards">getCards</a></li><li data-type='method'><a href="userClass.html#getMainNeedsUpdate">getMainNeedsUpdate</a></li><li data-type='method'><a href="userClass.html#getRewards">getRewards</a></li><li data-type='method'><a href="userClass.html#getTimeFrameTransactions">getTimeFrameTransactions</a></li><li data-type='method'><a href="userClass.html#getTransactionsForCard">getTransactionsForCard</a></li><li data-type='method'><a href="userClass.html#getUserId">getUserId</a></li><li data-type='method'><a href="userClass.html#saveCardToUser">saveCardToUser</a></li><li data-type='method'><a href="userClass.html#saveTransaction">saveTransaction</a></li><li data-type='method'><a href="userClass.html#setMainNeedsUpdate">setMainNeedsUpdate</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">src/components/cards/DisplayCard.js</h1>
    

    <!--container.tmpl-->




    <!--source.tmpl-->

    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from 'react';
import { 
    Dimensions, 
    View, 
    Text, 
    StyleSheet, 
    Alert, 
    TouchableOpacity, 
    ScrollView, 
    SafeAreaView, 
} from 'react-native';
import { cards } from '../../network/cards';
import { user } from '../../network/user';
import { Ionicons } from '@expo/vector-icons';
import { EditTransactionModal } from './EditTransactionModal';
import { TransactionModal } from './TransactionModal';
import CardImage from './CardImage';
import { SwipeListView } from 'react-native-swipe-list-view';
import { summaryHelper } from '../summary/SummaryHelper';
import mainStyles from '../../styles/mainStyles';
import { BackButtonHeader } from '../util/BackButtonHeader';
import * as storage from '../../local/storage';

/**
 * Display for a single credit card. Shows information about a card's rewards as well
 * as giving options to add a transaction to be associated with a its particular card.
 * 
 * @param {{Object, Object}} obj - The route and navigation passed directly to display card
 * @param {Object} obj.route - routing object containing information about a specific credit card
 * @param {Object} obj.navigation - navigation object used to move between different pages
 * @module DisplayCard
 */
function DisplayCard({route, navigation}) {
    const cardId = route.params.cardId;
    const docId = route.params.docId;
    const cardImage = route.params.img;
    const origin = route.params.origin;
    const userId = user.getUserId();
    const [cardName, setCardName] = useState("");
    const storeInformation = user.currentStore;
    const [displayTransactions, setDisplayTransactions] = useState(false);
    const [transactions, setTransactions] = useState([]);
    const [displayRewards, setDisplayRewards] = useState(false);
    const [rewards, setRewards] = useState([]);
    const [hasConstructed, setHasConstructed] = useState(false);
    const [showTransactionModal, setShowTransactionModal] = useState(false);
    const [currentTransaction, setCurrentTransaction] = useState(null);
    const [showEditTransactionModal, setShowEditTransactionModal] = useState(false);
    const [showTransactionsList, setShowTransactionsList] = useState(origin !== "main" ? true : false);

    const constructor = () => { 
        if (hasConstructed) { 
            return;
        } else {
            cards.getCardName(cardId).then((name) => { 
                setCardName(name);
            });

            setTransactions([]);
            user.getTransactionsForCard(userId, cardId, (data) => {
                if (data !== null) {
                    setTransactions((transactions) => { 
                        data["key"] = transactions.length.toString();
                        if (data) {
                            if (Array.isArray(data)) {
                                return [...data, ...transactions];
                            } else {
                                return summaryHelper.addSortedNewTransaction(transactions, data);
                            }
                        }
                        else {
                            return transactions;
                        }
                    })
                    setDisplayTransactions(true);
                }
            })

            user.getRewards(userId, cardId, (data) => { 
                setRewards(Object.entries(data));
                setDisplayRewards(true);
            })

            setHasConstructed(true);
        }
    }
    constructor();

    const deleteCard = () => {
        user.deleteCard(userId, cardId, docId);
        navigation.navigate('YourCards', { forceLoad: true });
    }
    
    const confirmDelete = () => {
        Alert.alert(
            'Are you sure you would like to delete this card from your profile?',
            'please select one',
            [
              {text: 'YES', onPress: () => deleteCard()},
              {text: 'NO', onPress: () => console.log(''), style: 'cancel'},
            ]
          );
    };

    const confirmDeleteTransaction = (trans) => {
        Alert.alert(
            'Are you sure you would like to delete this transaction?',
            trans.storeInfo.storeName + '\n' + trans.dateAdded.toString().substring(0,24) + '\n$' + trans.amountSpent,
            [
              {text: 'YES', onPress: () => deleteTransaction(trans.docId)},
              {text: 'NO', onPress: () => console.log(''), style: 'cancel'},
            ]
          );
    };

    const deleteTransaction = (transDocId) => { 
        let pos = transactions.map(function(e) { return e.docId; }).indexOf(transDocId);
        user.deleteTransaction(userId, transDocId);
        let newTransactions = [...transactions];
        newTransactions.splice(pos, 1);
        setTransactions(newTransactions);
    }

    const toggleDisplayCard = () => {
        storage.setDisabledCards(cardId);
        user.setMainNeedsUpdate(true);
        navigation.navigate('YourCards', { forceLoad: true });
    }

    return (
        &lt;SafeAreaView style={mainStyles.screen}>
            &lt;BackButtonHeader navigation={navigation}/>
            &lt;View style={mainStyles.bodyContainer}>
                &lt;EditTransactionModal
                    transaction={currentTransaction}
                    modalVisible={showEditTransactionModal}
                    setModalVisible={setShowEditTransactionModal}
                    transactions={transactions}
                    setTransactions={setTransactions}
                >&lt;/EditTransactionModal>

                &lt;TransactionModal
                    storeInformation={storeInformation}
                    showTransactionModal={showTransactionModal}
                    setShowTransactionModal={setShowTransactionModal}
                    setHasConstructed={setHasConstructed}
                    cardId={cardId}
                >&lt;/TransactionModal>

                &lt;View style={{ justifyContent: 'flex-start' }}>
                    &lt;Text style={styles.cardTitle}>{cardName}&lt;/Text>
                    &lt;CardImage
                        style={[styles.card]}
                        source={cardImage.uri}
                        overlay={cardName}
                        defaultImg={cardImage.uri === undefined || cardImage.uri.length == 0}
                        cardId={cardId}
                    />
                &lt;/View>

                &lt;View style={{ flex: 2 }}>
                    &lt;View style={styles.sectionTitle}>
                        &lt;View style={{ width: '90%', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}>
                            &lt;View style={{ flexDirection: 'row' }}>
                                &lt;Text
                                    style={showTransactionsList ? styles.sectionTitleText : styles.sectionTitleTextUnselected}
                                    onPress={() => { if (!showTransactionsList) setShowTransactionsList(true) }}
                                >
                                    Transactions
                                &lt;/Text>
                                &lt;View style={{ borderRightWidth: 1, marginHorizontal: 10, borderColor: 'white' }} />
                                &lt;Text
                                    style={!showTransactionsList ? styles.sectionTitleText : styles.sectionTitleTextUnselected}
                                    onPress={() => { if (showTransactionsList) setShowTransactionsList(false) }}
                                >
                                    Rewards
                                &lt;/Text>
                            &lt;/View>
                            &lt;TouchableOpacity
                                onPress={() => setShowTransactionModal(true)}
                                style={{ marginRight: -5 }}
                            >
                                &lt;Ionicons
                                    name="add-circle-outline"
                                    color="white"
                                    size={30}
                                >&lt;/Ionicons>
                            &lt;/TouchableOpacity>
                        &lt;/View>
                    &lt;/View>
                    {
                        showTransactionsList ?
                            &lt;View style={{ flex: 1 }}>
                                {
                                    ((transactions.length == 0) || !displayTransactions) ?
                                        &lt;View style={{ alignItems: 'center', paddingTop: 10 }}>
                                            &lt;Text>You currently have no transactions!&lt;/Text>
                                        &lt;/View>
                                        :
                                        &lt;SwipeListView
                                            data={transactions}
                                            renderItem={(data, rowMap) => {
                                                var date = data.item.dateAdded.toString().substring(0, 24);
                                                var name = data.item.storeInfo.storeName;
                                                var dollarAmount = data.item.amountSpent;
                                                return (
                                                    &lt;View style={styles.rowFront}>
                                                        &lt;View style={{ flexDirection: 'row', width: '90%', justifyContent: 'space-between' }}>
                                                            &lt;View style={{ flexDirection: 'column' }}>
                                                                &lt;Text style={styles.transactionTextLeft}>{name}&lt;/Text>
                                                                &lt;Text>{date}&lt;/Text>
                                                            &lt;/View>
                                                            &lt;View style={{ justifyContent: 'center' }}>
                                                                &lt;Text>${dollarAmount}&lt;/Text>
                                                            &lt;/View>
                                                        &lt;/View>
                                                    &lt;/View>
                                                )
                                            }}
                                            renderHiddenItem={(data, rowMap) => (
                                                &lt;View style={styles.rowBack}>
                                                    &lt;Text>Left&lt;/Text>
                                                    &lt;TouchableOpacity
                                                        style={[styles.backRightBtn, styles.backRightBtnLeft]}
                                                        onPress={() => {
                                                            setCurrentTransaction(data.item),
                                                                setShowEditTransactionModal(true),
                                                                rowMap[data.item.key].closeRow()
                                                        }}
                                                    >
                                                        &lt;Ionicons
                                                            name="eyedrop-outline"
                                                            color="white"
                                                            size={25}
                                                        >&lt;/Ionicons>
                                                    &lt;/TouchableOpacity>
                                                    &lt;TouchableOpacity
                                                        style={[styles.backRightBtn, styles.backRightBtnRight]}
                                                        onPress={() => {
                                                            setCurrentTransaction(data.item),
                                                                confirmDeleteTransaction(data.item),
                                                                rowMap[data.item.key].closeRow()
                                                        }}
                                                    >
                                                        &lt;Ionicons
                                                            name="trash-outline"
                                                            color="white"
                                                            size={25}
                                                        >&lt;/Ionicons>
                                                    &lt;/TouchableOpacity>
                                                &lt;/View>
                                            )}
                                            rightOpenValue={-150}
                                            disableRightSwipe={true}
                                        />
                                }
                            &lt;/View>
                            :
                            &lt;ScrollView>
                                {
                                    displayRewards &amp;&amp;
                                    rewards.map((reward, i) => {
                                        var category;
                                        var rewardPercentage;
                                        // temporary way to tell if card is a manual addition
                                        if (rewards[0][0] == '0') {
                                            category = reward[1].type;
                                            rewardPercentage = reward[1].value;
                                        } else {
                                            category = reward[0];
                                            rewardPercentage = reward[1];
                                        }

                                        return (
                                            &lt;View style={styles.sectionText} key={i}>
                                                &lt;View style={{ flexDirection: 'row', width: '90%', justifyContent: 'space-between' }}>
                                                    &lt;Text style={{ fontWeight: 'bold' }}>{category}&lt;/Text>
                                                    &lt;Text style={{ marginLeft: 5 }}>{rewardPercentage}%&lt;/Text>
                                                &lt;/View>
                                            &lt;/View>
                                        )
                                    })
                                }
                            &lt;/ScrollView>
                    }

                &lt;/View>

                &lt;View>
                    {
                        (origin !== "main") &amp;&amp;
                        &lt;View>
                            &lt;TouchableOpacity style={styles.deleteContainer} onPress={toggleDisplayCard}>
                                &lt;Text style={styles.deleteText}>Disable/Undisable this card &lt;/Text>
                            &lt;/TouchableOpacity>
                            &lt;TouchableOpacity style={styles.deleteContainer} onPress={confirmDelete}>
                                &lt;Text style={styles.deleteText}>Delete this card&lt;/Text>
                            &lt;/TouchableOpacity>
                        &lt;/View>
                    }
                &lt;/View>
            &lt;/View>
        &lt;/SafeAreaView>
    )
}

const styles = StyleSheet.create({
    container: {
        backgroundColor: 'white',
        height: '100%', 
        flex: 1
    },
    cardTitle: { 
        textAlign: 'center',
        // marginTop: 25,
        fontSize: 24,
        paddingHorizontal: 10
    },
    card: {
        width: Dimensions.get('window').width * .9,  //its same to '20%' of device width
        aspectRatio: 1.5, // &lt;-- this
        resizeMode: "contain",
        // height: 230, // hard coded for now
        marginBottom: 10,
        alignSelf: 'center',
    }, 
    sectionTitle: { 
        display: 'flex',
        flexDirection: 'row',
        height: 45,
        justifyContent: 'center',
        backgroundColor: '#28b573',
        alignItems: 'center'
    },
    sectionTitleText: {
        fontSize: 16,
        color: 'white',
        textAlign: 'center',
        fontWeight: 'bold'
    },
    sectionTitleTextUnselected: {
        fontSize: 16,
        color: 'lightgray',
        textAlign: 'center'
    },
    sectionTextSelected: {
        display: 'flex',
        width: '100%', 
        height: 45,
        flexDirection: 'row',
        justifyContent: 'center',
        alignItems: 'center',
        borderBottomColor: 'lightgray',
        borderBottomWidth: 1,
        backgroundColor: 'dodgerblue'
    },
    sectionText: {
        display: 'flex',
        height: 45,
        flexDirection: 'row',
        justifyContent: 'center',
        alignItems: 'center',
        borderBottomColor: 'lightgray',
        borderBottomWidth: 1,
    },
    transactionTextLeft: { 
        fontWeight : 'bold',
    },
    transactionTextRight: {
        flex: 1,
        flexWrap: 'wrap',
        textAlign: 'right'
    },
    addTransactionButton: {
        display: 'flex',
        width: '100%',
        height: 35,
        flexDirection: 'row',
        justifyContent: 'center',
        alignItems: 'center',
        borderBottomColor: 'lightgray',
        borderBottomWidth: 1,
        backgroundColor: '#f5f5f5'
    },
    editTransactionText: {
        margin: 5,
        color: 'dodgerblue',
        textAlign: 'right'
    },
    deleteContainer: { 
        alignItems: 'center',
        marginBottom: 10,
        marginTop: 10
    },
    deleteText: {
        fontSize: 16,
        color: 'red',
    },
    rowFront: {
        alignItems: 'center',
        backgroundColor: 'white',
        borderBottomColor: 'lightgray',
        borderBottomWidth: 1,
        justifyContent: 'center',
        height: 50,
    },
    rowBack: {
        alignItems: 'center',
        backgroundColor: '#DDD',
        flex: 1,
        flexDirection: 'row',
        justifyContent: 'space-between',
        paddingLeft: 15,
    },
    backRightBtn: {
        alignItems: 'center',
        bottom: 0,
        justifyContent: 'center',
        position: 'absolute',
        top: 0,
        width: 75,
    },
    backRightBtnLeft: {
        backgroundColor: 'blue',
        right: 75,
    },
    backRightBtnRight: {
        backgroundColor: 'red',
        right: 0,
    },
});

export { DisplayCard };</code></pre>
        </article>
    </section>





</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Thu Jun 03 2021 12:50:08 GMT-0700 (Pacific Daylight Time) using the LOKE theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
